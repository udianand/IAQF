# Set the timezone to UTC
Sys.setenv(TZ = "UTC")
# Set the currency to USD
currency("USD")
getSymbols("SPY", from = from, to = to, src = "yahoo", adjust = TRUE)
stock("SPY", currency = "USD")
str(SPY)
plot(Cl(SPY))
lines(SMA(Cl(SPY), n = 200), col = "red")
getSymbols("TWTR", from = from, to = to, src = "yahoo", adjust = TRUE)
# Use the stock command to initialize SPY and set currency to USD
stock("TWTR", currency = "USD")
plot(Cl(TWTR))
lines(SMA(Cl(TWTR), n = 200), col = "red")
# Define your trade size and initial equity
tradesize <- 100000
initeq <- 100000
# Define the names of your strategy, portfolio and account
strategy.st <- "firststrat"
portfolio.st <- "firststrat"
account.st <- "firststrat"
# Remove the existing strategy if it exists
rm.strat(strategy.st)
# initialize the portfolio
initPortf(portfolio.st, symbols = "SPY", initDate = initdate, currency = "USD")
# initialize the account
initAcct(account.st, portfolios = porfolio.st, initDate = initdate, currency = "USD", initEq = initeq)
# initialize the orders
initOrders(porfolio.st, initDate = initdate)
# store the strategy
strategy(strategy.st, store = TRUE)
initPortf(portfolio.st, symbols = "SPY", initDate = initdate, currency = "USD")
# initialize the portfolio
initPortf(portfolio.st, symbols = "SPY", initDate = initdate, currency = "USD")
# initialize the account
initAcct(account.st, portfolios = portfolio.st, initDate = initdate, currency = "USD", initEq = initeq)
# initialize the orders
initOrders(portfolio.st, initDate = initdate)
# store the strategy
strategy(strategy.st, store = TRUE)
install.packages("rpart")
install.packages("rattle")
install.packages("rpart.plot")
install.packages("RColorRrewer")
install.packages("class")
install.packages(c("digest", "jsonlite"))
install.packages("ROCR")
install.packages("cluster")
install.packages("clValid")
9*15.9
9*15.9-124
0.3/19
19*exp(0.5*0.02)
2*log(1+0.49/19)
138*0.3
27*(19-18.7)
-9*10^6*(19.03-15.9)+10^7*(17.127-12.40)-8.1*10^6
(27.9+5.4)/9
192.67/121.8
192.67/121.8*12.18
-(19.03-15.9)*9*10^6+10*10^6*(17.127-12.4)-(19-18.7)*27*10^6
10^7*(17.127-12.40)-18*10^6*(19-18.70)
41870000/(9*10^6)
18.7-4.652222
18.7+4.652222
pnorm(0)
pnorm(-6)
pnorm(-6)*5000*252/365
install.packages("VARS")
install.packages("vars")
#VAR model - 0.001
#load workspace
load(file="VaR0.0001.RData")
##Load Data from the GUI. or use command below
#CPI = read.csv("<FileName>.txt",header = TRUE)
#FFR = read.csv("<FileName>.txt",header = TRUE)
#UNEMP = read.csv("<FileName>.txt",header = TRUE)
#All data is monthly
##Data Definition
#CPI: All Urban Consumers - Seasonally Unadjusted USA All items  - Non Adj. CPI\n  - CPI
#FFR: Interest Rates Prices Production or Labor United States 60B..ZF... FEDERAL
#FUNDS RATE - Average UNITED STATES  - \n  - Percent per annum
#UNEMP: Unemployment Rate Non-Seasonally Adjusted USA  - %
CPI = CPI_All_items
FFR = Federal_Funds_Rate_Average
UNEMP = Unemployment_rate
#Data Cleaning
#------------#
#------------#
#CPI Data
#--------#
CPI = CPI[-1,] #The first row contained text varibales
names(CPI)
names(CPI)[2]<-"CpiSeaAdj" #Change colnames
CPI = as.data.frame(CPI) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
CPI$CPISeaAdj [is.na(CPI$CPISeaAdj)] = median(CPI$CPISeaAdj,na.rm = "True")
CPI$CPISeaAdj[is.infinite(CPI$CPISeaAdj)] = 0
##Start the data from 199001
CPI = CPI[order(CPI$Time),]
head(CPI)
summary(CPI)
#FFR Data
#--------#
FFR = FFR[-1,] #The first row contained text varibales
names(FFR)
names(FFR)[2]<-"InterestRates" #Change colnames
FFR = as.data.frame(FFR) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
FFR$InterestRates [is.na(FFR$InterestRates)] = median(FFR$InterestRates,na.rm = "True")
FFR$InterestRates[is.infinite(FFR$InterestRates)] = 0
##Start the data from 199001
FFR = FFR[order(FFR$Time),]
head(FFR)
summary(FFR)
#UNEMP Data
#--------#
names(UNEMP)
names(UNEMP)[2]<-"UnempRate" #Change colnames
UNEMP = as.data.frame(UNEMP) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
UNEMP$UnempRate [is.na(UNEMP$UnempRate)] = median(UNEMP$UnempRate,na.rm = "True")
UNEMP$UnempRate[is.infinite(UNEMP$UnempRate)] = 0
##Start the data from 199001
UNEMP = UNEMP[order(UNEMP$Time),]
head(UNEMP)
summary(UNEMP)
save.image(file="VaR0.0001.RData")
#VAR model - 0.001
setwd("C:/Users/XingBill/Desktop/IAQFfolder/IAQF")
#load workspace
load(file="VaR0.0001.RData")
##Load Data from the GUI. or use command below
#CPI = read.csv("<FileName>.txt",header = TRUE)
#FFR = read.csv("<FileName>.txt",header = TRUE)
#UNEMP = read.csv("<FileName>.txt",header = TRUE)
#All data is monthly
##Data Definition
#CPI: All Urban Consumers - Seasonally Unadjusted USA All items  - Non Adj. CPI\n  - CPI
#FFR: Interest Rates Prices Production or Labor United States 60B..ZF... FEDERAL
#FUNDS RATE - Average UNITED STATES  - \n  - Percent per annum
#UNEMP: Unemployment Rate Non-Seasonally Adjusted USA  - %
CPI = CPI_All_items
FFR = Federal_Funds_Rate_Average
UNEMP = Unemployment_rate
#Data Cleaning
#------------#
#------------#
#CPI Data
#--------#
CPI = CPI[-1,] #The first row contained text varibales
names(CPI)
names(CPI)[2]<-"CpiSeaAdj" #Change colnames
CPI = as.data.frame(CPI) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
CPI$CPISeaAdj [is.na(CPI$CPISeaAdj)] = median(CPI$CPISeaAdj,na.rm = "True")
CPI$CPISeaAdj[is.infinite(CPI$CPISeaAdj)] = 0
##Start the data from 199001
CPI = CPI[order(CPI$Time),]
head(CPI)
summary(CPI)
#FFR Data
#--------#
FFR = FFR[-1,] #The first row contained text varibales
names(FFR)
names(FFR)[2]<-"InterestRates" #Change colnames
FFR = as.data.frame(FFR) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
FFR$InterestRates [is.na(FFR$InterestRates)] = median(FFR$InterestRates,na.rm = "True")
FFR$InterestRates[is.infinite(FFR$InterestRates)] = 0
##Start the data from 199001
FFR = FFR[order(FFR$Time),]
head(FFR)
summary(FFR)
#UNEMP Data
#--------#
names(UNEMP)
names(UNEMP)[2]<-"UnempRate" #Change colnames
UNEMP = as.data.frame(UNEMP) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
UNEMP$UnempRate [is.na(UNEMP$UnempRate)] = median(UNEMP$UnempRate,na.rm = "True")
UNEMP$UnempRate[is.infinite(UNEMP$UnempRate)] = 0
##Start the data from 199001
UNEMP = UNEMP[order(UNEMP$Time),]
head(UNEMP)
summary(UNEMP)
save.image(file="VaR0.0001.RData")
load(file="VaR0.0001.RData")
summary(UNEMP)
head(CPI)
names(FFR)
View(FFR)
View(FFR)
FFR = read.csv("FFR-Monthly.csv")
FFR = FFR[-1,] #The first row contained text varibales
names(FFR)
names(FFR)[2]<-"InterestRates" #Change colnames
FFR = as.data.frame(FFR) #Convert the list into a dataframe.
FFR$InterestRates [is.na(FFR$InterestRates)] = median(FFR$InterestRates,na.rm = "True")
FFR$InterestRates[is.infinite(FFR$InterestRates)] = 0
FFR = FFR[order(FFR$Time),]
head(FFR)
summary(FFR)
head(FFR)
#VAR model - 0.001
setwd("C:/Users/XingBill/Desktop/IAQFfolder/IAQF")
#load workspace
load(file="VaR0.0001.RData")
##Load Data from the GUI. or use command below
#CPI = read.csv("<FileName>.txt",header = TRUE)
#FFR = read.csv("<FileName>.txt",header = TRUE)
#UNEMP = read.csv("<FileName>.txt",header = TRUE)
#All data is monthly
##Data Definition
#CPI: All Urban Consumers - Seasonally Unadjusted USA All items  - Non Adj. CPI\n  - CPI
#FFR: Interest Rates Prices Production or Labor United States 60B..ZF... FEDERAL
#FUNDS RATE - Average UNITED STATES  - \n  - Percent per annum
#UNEMP: Unemployment Rate Non-Seasonally Adjusted USA  - %
CPI = CPI_All_items
FFR = read.csv("FFR-Monthly.csv")
UNEMP = Unemployment_rate
#Data Cleaning
#------------#
#------------#
#CPI Data
#--------#
CPI = CPI[-1,] #The first row contained text varibales
names(CPI)
names(CPI)[2]<-"CpiSeaAdj" #Change colnames
CPI = as.data.frame(CPI) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
CPI$CPISeaAdj [is.na(CPI$CPISeaAdj)] = median(CPI$CPISeaAdj,na.rm = "True")
CPI$CPISeaAdj[is.infinite(CPI$CPISeaAdj)] = 0
##Start the data from 199001
CPI = CPI[order(CPI$Time),]
head(CPI)
summary(CPI)
#FFR Data
#--------#
FFR = FFR[-1,] #The first row contained text varibales
names(FFR)
names(FFR)[2]<-"InterestRates" #Change colnames
FFR = as.data.frame(FFR) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
FFR$InterestRates [is.na(FFR$InterestRates)] = median(FFR$InterestRates,na.rm = "True")
FFR$InterestRates[is.infinite(FFR$InterestRates)] = 0
##Start the data from 199001
FFR = FFR[order(FFR$Time),]
head(FFR)
summary(FFR)
#UNEMP Data
#--------#
names(UNEMP)
names(UNEMP)[2]<-"UnempRate" #Change colnames
UNEMP = as.data.frame(UNEMP) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
UNEMP$UnempRate [is.na(UNEMP$UnempRate)] = median(UNEMP$UnempRate,na.rm = "True")
UNEMP$UnempRate[is.infinite(UNEMP$UnempRate)] = 0
##Start the data from 199001
UNEMP = UNEMP[order(UNEMP$Time),]
head(UNEMP)
summary(UNEMP)
save.image(file="VaR0.0001.RData")
#VAR model - 0.001
setwd("C:/Users/XingBill/Desktop/IAQFfolder/IAQF")
#load workspace
load(file="VaR0.0001.RData")
##Load Data from the GUI. or use command below
#CPI = read.csv("<FileName>.txt",header = TRUE)
#FFR = read.csv("<FileName>.txt",header = TRUE)
#UNEMP = read.csv("<FileName>.txt",header = TRUE)
#All data is monthly
##Data Definition
#CPI: All Urban Consumers - Seasonally Unadjusted USA All items  - Non Adj. CPI\n  - CPI
#FFR: Interest Rates Prices Production or Labor United States 60B..ZF... FEDERAL
#FUNDS RATE - Average UNITED STATES  - \n  - Percent per annum
#UNEMP: Unemployment Rate Non-Seasonally Adjusted USA  - %
CPI = CPI_All_items
FFR = Federal_fund_rate
UNEMP = Unemployment_rate
#Data Cleaning
#------------#
#------------#
#CPI Data
#--------#
CPI = CPI[-1,] #The first row contained text varibales
names(CPI)
names(CPI)[2]<-"CpiSeaAdj" #Change colnames
CPI = as.data.frame(CPI) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
CPI$CPISeaAdj [is.na(CPI$CPISeaAdj)] = median(CPI$CPISeaAdj,na.rm = "True")
CPI$CPISeaAdj[is.infinite(CPI$CPISeaAdj)] = 0
##Start the data from 199001
CPI = CPI[order(CPI$Time),]
head(CPI)
summary(CPI)
#FFR Data
#--------#
FFR = FFR[-1,] #The first row contained text varibales
names(FFR)
names(FFR)[2]<-"InterestRates" #Change colnames
FFR = as.data.frame(FFR) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
FFR$InterestRates [is.na(FFR$InterestRates)] = median(FFR$InterestRates,na.rm = "True")
FFR$InterestRates[is.infinite(FFR$InterestRates)] = 0
##Start the data from 199001
FFR = FFR[order(FFR$Time),]
head(FFR)
summary(FFR)
#UNEMP Data
#--------#
names(UNEMP)
names(UNEMP)[2]<-"UnempRate" #Change colnames
UNEMP = as.data.frame(UNEMP) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
UNEMP$UnempRate [is.na(UNEMP$UnempRate)] = median(UNEMP$UnempRate,na.rm = "True")
UNEMP$UnempRate[is.infinite(UNEMP$UnempRate)] = 0
##Start the data from 199001
UNEMP = UNEMP[order(UNEMP$Time),]
head(UNEMP)
summary(UNEMP)
save.image(file="VaR0.0001.RData")
#VAR model - 0.001
setwd("C:/Users/XingBill/Desktop/IAQFfolder/IAQF")
#load workspace
load(file="VaR0.0001.RData")
##Load Data from the GUI. or use command below
#CPI = read.csv("<FileName>.txt",header = TRUE)
#FFR = read.csv("<FileName>.txt",header = TRUE)
#UNEMP = read.csv("<FileName>.txt",header = TRUE)
#All data is monthly
##Data Definition
#CPI: All Urban Consumers - Seasonally Unadjusted USA All items  - Non Adj. CPI\n  - CPI
#FFR: Interest Rates Prices Production or Labor United States 60B..ZF... FEDERAL
#FUNDS RATE - Average UNITED STATES  - \n  - Percent per annum
#UNEMP: Unemployment Rate Non-Seasonally Adjusted USA  - %
CPI = CPI_All_items
FFR = Federal_fund_rate
UNEMP = Unemployment_rate
#Data Cleaning
#------------#
#------------#
#CPI Data
#--------#
CPI = CPI[-1,] #The first row contained text varibales
names(CPI)
names(CPI)[2]<-"CpiSeaAdj" #Change colnames
CPI = as.data.frame(CPI) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
CPI$CPISeaAdj [is.na(CPI$CPISeaAdj)] = median(CPI$CPISeaAdj,na.rm = "True")
CPI$CPISeaAdj[is.infinite(CPI$CPISeaAdj)] = 0
##Start the data from 199001
CPI = CPI[order(CPI$Time),]
head(CPI)
summary(CPI)
#FFR Data
#--------#
FFR = FFR[-1,] #The first row contained text varibales
names(FFR)
names(FFR)[2]<-"InterestRates" #Change colnames
FFR = as.data.frame(FFR) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
FFR$InterestRates [is.na(FFR$InterestRates)] = median(FFR$InterestRates,na.rm = "True")
FFR$InterestRates[is.infinite(FFR$InterestRates)] = 0
##Start the data from 199001
FFR = FFR[order(FFR$Time),]
head(FFR)
summary(FFR)
#UNEMP Data
#--------#
names(UNEMP)
names(UNEMP)[2]<-"UnempRate" #Change colnames
UNEMP = as.data.frame(UNEMP) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
UNEMP$UnempRate [is.na(UNEMP$UnempRate)] = median(UNEMP$UnempRate,na.rm = "True")
UNEMP$UnempRate[is.infinite(UNEMP$UnempRate)] = 0
##Start the data from 199001
UNEMP = UNEMP[order(UNEMP$Time),]
head(UNEMP)
summary(UNEMP)
save.image(file="VaR0.0001.RData")
#VAR model - 0.001
setwd("C:/Users/XingBill/Desktop/IAQFfolder/IAQF")
#load workspace
load(file="VaR0.0001.RData")
##Load Data from the GUI. or use command below
#CPI = read.csv("<FileName>.txt",header = TRUE)
#FFR = read.csv("<FileName>.txt",header = TRUE)
#UNEMP = read.csv("<FileName>.txt",header = TRUE)
#All data is monthly
##Data Definition
#CPI: All Urban Consumers - Seasonally Unadjusted USA All items  - Non Adj. CPI\n  - CPI
#FFR: Interest Rates Prices Production or Labor United States 60B..ZF... FEDERAL
#FUNDS RATE - Average UNITED STATES  - \n  - Percent per annum
#UNEMP: Unemployment Rate Non-Seasonally Adjusted USA  - %
CPI = CPI_All_items
FFR = Federal_fund_rate
UNEMP = Unemployment_rate
#Data Cleaning
#------------#
#------------#
#CPI Data
#--------#
CPI = CPI[-1,] #The first row contained text varibales
names(CPI)
names(CPI)[2]<-"CpiSeaAdj" #Change colnames
CPI = as.data.frame(CPI) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
CPI$CPISeaAdj [is.na(CPI$CPISeaAdj)] = median(CPI$CPISeaAdj,na.rm = "True")
CPI$CPISeaAdj[is.infinite(CPI$CPISeaAdj)] = 0
##Start the data from 199001
CPI = CPI[order(CPI$Time),]
head(CPI)
summary(CPI)
#FFR Data
#--------#
FFR = FFR[-1,] #The first row contained text varibales
names(FFR)
names(FFR)[2]<-"InterestRates" #Change colnames
FFR = as.data.frame(FFR) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
FFR$InterestRates [is.na(FFR$InterestRates)] = median(FFR$InterestRates,na.rm = "True")
FFR$InterestRates[is.infinite(FFR$InterestRates)] = 0
##Start the data from 199001
FFR = FFR[order(FFR$Time),]
head(FFR)
summary(FFR)
#UNEMP Data
#--------#
names(UNEMP)
names(UNEMP)[2]<-"UnempRate" #Change colnames
UNEMP = as.data.frame(UNEMP) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
UNEMP$UnempRate [is.na(UNEMP$UnempRate)] = median(UNEMP$UnempRate,na.rm = "True")
UNEMP$UnempRate[is.infinite(UNEMP$UnempRate)] = 0
##Start the data from 199001
UNEMP = UNEMP[order(UNEMP$Time),]
head(UNEMP)
summary(UNEMP)
save.image(file="VaR0.0001.RData")
#VAR model - 0.001
setwd("C:/Users/XingBill/Desktop/IAQFfolder/IAQF")
#load workspace
load(file="VaR0.0001.RData")
##Load Data from the GUI. or use command below
#CPI = read.csv("<FileName>.txt",header = TRUE)
#FFR = read.csv("<FileName>.txt",header = TRUE)
#UNEMP = read.csv("<FileName>.txt",header = TRUE)
#All data is monthly
##Data Definition
#CPI: All Urban Consumers - Seasonally Unadjusted USA All items  - Non Adj. CPI\n  - CPI
#FFR: Interest Rates Prices Production or Labor United States 60B..ZF... FEDERAL
#FUNDS RATE - Average UNITED STATES  - \n  - Percent per annum
#UNEMP: Unemployment Rate Non-Seasonally Adjusted USA  - %
CPI = CPI_All_items
FFR = Federal_fund_rate
UNEMP = Unemployment_rate
#Data Cleaning
#------------#
#------------#
#CPI Data
#--------#
CPI = CPI[-1,] #The first row contained text varibales
names(CPI)
names(CPI)[2]<-"CpiSeaAdj" #Change colnames
CPI = as.data.frame(CPI) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
CPI$CPISeaAdj [is.na(CPI$CPISeaAdj)] = median(CPI$CPISeaAdj,na.rm = "True")
CPI$CPISeaAdj[is.infinite(CPI$CPISeaAdj)] = 0
##Start the data from 199001
CPI = CPI[order(CPI$Time),]
head(CPI)
summary(CPI)
#FFR Data
#--------#
FFR = FFR[-1,] #The first row contained text varibales
names(FFR)
names(FFR)[2]<-"InterestRates" #Change colnames
FFR = as.data.frame(FFR) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
FFR$InterestRates [is.na(FFR$InterestRates)] = median(FFR$InterestRates,na.rm = "True")
FFR$InterestRates[is.infinite(FFR$InterestRates)] = 0
##Start the data from 199001
FFR = FFR[order(FFR$Time),]
head(FFR)
summary(FFR)
#UNEMP Data
#--------#
names(UNEMP)
names(UNEMP)[2]<-"UnempRate" #Change colnames
UNEMP = as.data.frame(UNEMP) #Convert the list into a dataframe.
##Convert any NA data to median and Infinity to 0
UNEMP$UnempRate [is.na(UNEMP$UnempRate)] = median(UNEMP$UnempRate,na.rm = "True")
UNEMP$UnempRate[is.infinite(UNEMP$UnempRate)] = 0
##Start the data from 199001
UNEMP = UNEMP[order(UNEMP$Time),]
head(UNEMP)
summary(UNEMP)
save.image(file="VaR0.0001.RData")
rm(sample)
dim(FFR)
dim(CPI)
dim(UNEMP)
library(readr)
CPI_All_items <- read_csv("C:/Users/XingBill/Desktop/IAQFfolder/IAQF/Data/CPI-All items.csv")
View(CPI_All_items)
library(readr)
FFR_Monthly <- read_csv("C:/Users/XingBill/Desktop/IAQFfolder/IAQF/Data/FFR-Monthly.csv")
View(FFR_Monthly)
library(readr)
Unemployment_rate <- read_csv("C:/Users/XingBill/Desktop/IAQFfolder/IAQF/Data/Unemployment rate.csv")
View(Unemployment_rate)
